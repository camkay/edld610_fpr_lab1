---
title: "Lab 1"
author: "Cameron Kay & Ashley Miller"
date: "4/10/2019"
output: html_document
---

```{r setup, include = FALSE}
# load packages
library(tidyverse)
```

## Data structures
```{r daniels_code}
set.seed(123) # Set random number generation

m <- lm(mpg ~ hp + cyl + drat, mtcars)

l <- list(a = list(m = matrix(1:12, ncol = 3),
                   v = 1:7),
          b = data.frame(student = 1:15,
                         score = rnorm(15, 100, 10)))

```

### Run the above code

1. From the model results:

    + Extract the qr tolerance (tol).
    
```{r extract_qrtol, results = 'hide'}
# check the attributes for model
attributes(m)

# look inside qr_tol
m$qr

# extract tolerance
(tol <- m$qr$tol)

```

The tolerance is `r round(tol)`. 

    + Extract the term labels from the model.

```{r extract_attributes, results = 'hide'}
# check the structure of the model
str(m)

# look term.labels
(term_labels <- attributes(m$terms)$term.labels)
```

The term labels for the model was `r gsub(" d", " and d", paste(term_labels, collapse = ", "))`.
  
      + hint: Use str to inspect the list. This one is tricky and involves pulling an attribute from an attribute.
    
2. From the list

    + Use at least two different methods to extract m.
  
    + Extract the third column of m. Maintain the dimensions (matrix structure).
  
      + Use at least two different methods to extract the score for student 7.

## Loops

3. Use the “airquality” dataset, which is part of base R. Split it by Month
```{r airquality_split}
# split by month
aq_split <- split(x = airquality, f = airquality$Month)
```


4. Use a for loop to calculate the mean Ozone by month (remember to remove missing data from the calculation)

5. Replicate this calculation with lapply, sapply, and vapply

6. Produce a plot showing the relation between Ozone and Solar.R for each month.

7. Use a for loop to save the plots to a folder on your computer